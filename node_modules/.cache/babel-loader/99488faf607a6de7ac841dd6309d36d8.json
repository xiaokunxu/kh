{"remainingRequest":"/Users/xxk/Desktop/mall/node_modules/.8.0.6@babel-loader/lib/index.js!/Users/xxk/Desktop/mall/node_modules/.2.0.1@cache-loader/dist/cjs.js??ref--0-0!/Users/xxk/Desktop/mall/node_modules/.15.7.0@vue-loader/lib/index.js??vue-loader-options!/Users/xxk/Desktop/mall/src/views/AddressEdit.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/xxk/Desktop/mall/src/views/AddressEdit.vue","mtime":1559097762000},{"path":"/Users/xxk/Desktop/mall/node_modules/.2.0.1@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/xxk/Desktop/mall/node_modules/.8.0.6@babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/xxk/Desktop/mall/node_modules/.2.0.1@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/xxk/Desktop/mall/node_modules/.15.7.0@vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import _defineProperty from \"/Users/xxk/Desktop/mall/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport \"vant/es/toast/style\";\nimport _Toast from \"vant/es/toast\";\nimport \"core-js/modules/es6.function.name\";\nimport \"vant/es/address-edit/style\";\nimport _AddressEdit from \"vant/es/address-edit\";\n\nvar _components;\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport TheTitle from 'components/TheTitle.vue';\nimport areaList from \"../assets/js/area\";\nimport Address from \"../api/address\";\nimport { setTimeout } from 'timers';\nexport default {\n  components: (_components = {}, _defineProperty(_components, _AddressEdit.name, _AddressEdit), _defineProperty(_components, _Toast.name, _Toast), _defineProperty(_components, \"TheTitle\", TheTitle), _components),\n  data: function data() {\n    return {\n      title: '',\n      areaList: areaList,\n      addressInfo: {},\n      showDelete: false,\n      addressID: ''\n    };\n  },\n  created: function created() {\n    this.init();\n  },\n  methods: {\n    init: function init() {\n      if (this.$route.query.name) {\n        this.title = '编辑收货地址';\n        this.showDelete = true;\n      } else {\n        this.title = '添加收货地址';\n      }\n\n      this.addressInfo.name = this.$route.query.name;\n      this.addressInfo.tel = this.$route.query.tel;\n      this.addressInfo.province = this.$route.query.ConsigneeProvince;\n      this.addressInfo.city = this.$route.query.ConsigneeCity;\n      this.addressInfo.county = this.$route.query.ConsigneeCounty;\n      this.addressInfo.addressDetail = this.$route.query.ConsigneeAddress;\n      this.addressInfo.postalCode = this.$route.query.ConsigneePostalcode;\n      this.addressID = this.$route.query.addressID;\n\n      if (this.$route.query.ConsigneeStatus == '0') {\n        this.addressInfo.isDefault = true;\n      } else {\n        this.addressInfo.isDefault = false;\n      }\n    },\n    changeDefault: function changeDefault(value) {\n      console.log(value);\n    },\n    onSave: function onSave(content) {\n      var _this = this;\n\n      if (!this.showDelete) {\n        var postData = '[[\"UserName\",\"UserMobile\",\"ConsigneeProvince\",\"ConsigneeCity\",\"ConsigneeCounty\",\"UserAddress\",\"ConsigneePostalcode\",\"AddressStatus\"],[\"' + content.name + '\",\"' + content.tel + '\",\"' + content.province + '\",\"' + content.city + '\",\"' + content.county + '\",\"' + content.addressDetail + '\",\"' + content.postalCode + '\",\"0\"]]';\n        Address.UserAddressManage({\n          \"SOURCE\": \"TEST\",\n          \"CREDENTIALS\": \"0\",\n          \"ADDRESS\": \"192.168.1.195\",\n          \"TERMINAL\": \"0\",\n          \"INDEX\": \"20170714\",\n          \"METHOD\": \"UserAddressManage\",\n          \"UserAccount\": \"test001\",\n          \"Status\": \"1\",\n          \"DATA\": encodeURI(postData)\n        }).then(function (res) {\n          console.log(res);\n\n          if (res.DATA[0] === 1) {\n            _Toast.success('添加成功');\n\n            setTimeout(function () {\n              _this.$router.back(-1);\n            }, 2000);\n          } else {\n            _Toast.fail('添加失败');\n          }\n        });\n      } else {\n        var _postData = '[[\"ID\",\"UserName\",\"UserMobile\",\"ConsigneeProvince\",\"ConsigneeCity\",\"ConsigneeCounty\",\"UserAddress\",\"ConsigneePostalcode\",\"AddressStatus\"],[\"' + this.addressID + '\",\"' + content.name + '\",\"' + content.tel + '\",\"' + content.province + '\",\"' + content.city + '\",\"' + content.county + '\",\"' + content.addressDetail + '\",\"' + content.postalCode + '\",\"1\"]]';\n\n        Address.UserAddressManage({\n          \"SOURCE\": \"TEST\",\n          \"CREDENTIALS\": \"0\",\n          \"ADDRESS\": \"192.168.1.195\",\n          \"TERMINAL\": \"0\",\n          \"INDEX\": \"20170714\",\n          \"METHOD\": \"UserAddressManage\",\n          \"UserAccount\": \"test001\",\n          \"Status\": \"0\",\n          \"DATA\": encodeURI(_postData)\n        }).then(function (res) {\n          console.log(res);\n\n          if (res.DATA[0] === 1) {\n            _Toast.success('修改成功');\n\n            setTimeout(function () {\n              _this.$router.back(-1);\n            }, 2000);\n          } else {\n            _Toast.fail('修改失败');\n          }\n        });\n      }\n    },\n    onDelete: function onDelete(content) {\n      var _this2 = this;\n\n      var postData = '[[\"ID\",\"UserName\",\"UserMobile\",\"ConsigneeProvince\",\"ConsigneeCity\",\"ConsigneeCounty\",\"UserAddress\",\"ConsigneePostalcode\",\"AddressStatus\"],[\"' + this.addressID + '\",\"' + content.name + '\",\"' + content.tel + '\",\"' + content.province + '\",\"' + content.city + '\",\"' + content.county + '\",\"' + content.addressDetail + '\",\"' + content.postalCode + '\",\"1\"]]';\n      Address.UserAddressManage({\n        \"SOURCE\": \"TEST\",\n        \"CREDENTIALS\": \"0\",\n        \"ADDRESS\": \"192.168.1.195\",\n        \"TERMINAL\": \"0\",\n        \"INDEX\": \"20170714\",\n        \"METHOD\": \"UserAddressManage\",\n        \"UserAccount\": \"test001\",\n        \"Status\": \"2\",\n        \"DATA\": encodeURI(postData)\n      }).then(function (res) {\n        console.log(res);\n\n        if (res.DATA[0] === 1) {\n          _Toast.success('删除成功');\n\n          setTimeout(function () {\n            _this2.$router.back(-1);\n          }, 2000);\n        } else {\n          _Toast.fail('删除失败');\n        }\n      });\n    }\n  }\n};",{"version":3,"sources":["AddressEdit.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqBA,OAAA,QAAA,MAAA,yBAAA;AACA,OAAA,QAAA;AAEA,OAAA,OAAA;AACA,SAAA,UAAA,QAAA,QAAA;AAEA,eAAA;AACA,EAAA,UAAA,kDACA,aAAA,IADA,8CAEA,OAAA,IAFA,oDAGA,QAHA,eADA;AAMA,EAAA,IANA,kBAMA;AACA,WAAA;AACA,MAAA,KAAA,EAAA,EADA;AAEA,MAAA,QAAA,EAAA,QAFA;AAGA,MAAA,WAAA,EAAA,EAHA;AAIA,MAAA,UAAA,EAAA,KAJA;AAKA,MAAA,SAAA,EAAA;AALA,KAAA;AAOA,GAdA;AAeA,EAAA,OAfA,qBAeA;AACA,SAAA,IAAA;AACA,GAjBA;AAkBA,EAAA,OAAA,EAAA;AACA,IAAA,IADA,kBACA;AACA,UAAA,KAAA,MAAA,CAAA,KAAA,CAAA,IAAA,EAAA;AACA,aAAA,KAAA,GAAA,QAAA;AACA,aAAA,UAAA,GAAA,IAAA;AACA,OAHA,MAGA;AACA,aAAA,KAAA,GAAA,QAAA;AACA;;AACA,WAAA,WAAA,CAAA,IAAA,GAAA,KAAA,MAAA,CAAA,KAAA,CAAA,IAAA;AACA,WAAA,WAAA,CAAA,GAAA,GAAA,KAAA,MAAA,CAAA,KAAA,CAAA,GAAA;AACA,WAAA,WAAA,CAAA,QAAA,GAAA,KAAA,MAAA,CAAA,KAAA,CAAA,iBAAA;AACA,WAAA,WAAA,CAAA,IAAA,GAAA,KAAA,MAAA,CAAA,KAAA,CAAA,aAAA;AACA,WAAA,WAAA,CAAA,MAAA,GAAA,KAAA,MAAA,CAAA,KAAA,CAAA,eAAA;AACA,WAAA,WAAA,CAAA,aAAA,GAAA,KAAA,MAAA,CAAA,KAAA,CAAA,gBAAA;AACA,WAAA,WAAA,CAAA,UAAA,GAAA,KAAA,MAAA,CAAA,KAAA,CAAA,mBAAA;AACA,WAAA,SAAA,GAAA,KAAA,MAAA,CAAA,KAAA,CAAA,SAAA;;AACA,UAAA,KAAA,MAAA,CAAA,KAAA,CAAA,eAAA,IAAA,GAAA,EAAA;AACA,aAAA,WAAA,CAAA,SAAA,GAAA,IAAA;AACA,OAFA,MAEA;AACA,aAAA,WAAA,CAAA,SAAA,GAAA,KAAA;AACA;AACA,KArBA;AAsBA,IAAA,aAtBA,yBAsBA,KAtBA,EAsBA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,KAAA;AACA,KAxBA;AAyBA,IAAA,MAzBA,kBAyBA,OAzBA,EAyBA;AAAA;;AACA,UAAA,CAAA,KAAA,UAAA,EAAA;AACA,YAAA,QAAA,GAAA,4IAAA,OAAA,CAAA,IAAA,GAAA,KAAA,GAAA,OAAA,CAAA,GAAA,GAAA,KAAA,GAAA,OAAA,CAAA,QAAA,GAAA,KAAA,GAAA,OAAA,CAAA,IAAA,GAAA,KAAA,GAAA,OAAA,CAAA,MAAA,GAAA,KAAA,GAAA,OAAA,CAAA,aAAA,GAAA,KAAA,GAAA,OAAA,CAAA,UAAA,GAAA,SAAA;AACA,QAAA,OAAA,CAAA,iBAAA,CAAA;AACA,oBAAA,MADA;AAEA,yBAAA,GAFA;AAGA,qBAAA,eAHA;AAIA,sBAAA,GAJA;AAKA,mBAAA,UALA;AAMA,oBAAA,mBANA;AAOA,yBAAA,SAPA;AAQA,oBAAA,GARA;AASA,kBAAA,SAAA,CAAA,QAAA;AATA,SAAA,EAUA,IAVA,CAUA,UAAA,GAAA,EAAA;AACA,UAAA,OAAA,CAAA,GAAA,CAAA,GAAA;;AACA,cAAA,GAAA,CAAA,IAAA,CAAA,CAAA,MAAA,CAAA,EAAA;AACA,mBAAA,OAAA,CAAA,MAAA;;AACA,YAAA,UAAA,CAAA,YAAA;AACA,cAAA,KAAA,CAAA,OAAA,CAAA,IAAA,CAAA,CAAA,CAAA;AACA,aAFA,EAEA,IAFA,CAAA;AAGA,WALA,MAKA;AACA,mBAAA,IAAA,CAAA,MAAA;AACA;AACA,SApBA;AAqBA,OAvBA,MAuBA;AACA,YAAA,SAAA,GAAA,iJAAA,KAAA,SAAA,GAAA,KAAA,GAAA,OAAA,CAAA,IAAA,GAAA,KAAA,GAAA,OAAA,CAAA,GAAA,GAAA,KAAA,GAAA,OAAA,CAAA,QAAA,GAAA,KAAA,GAAA,OAAA,CAAA,IAAA,GAAA,KAAA,GAAA,OAAA,CAAA,MAAA,GAAA,KAAA,GAAA,OAAA,CAAA,aAAA,GAAA,KAAA,GAAA,OAAA,CAAA,UAAA,GAAA,SAAA;;AACA,QAAA,OAAA,CAAA,iBAAA,CAAA;AACA,oBAAA,MADA;AAEA,yBAAA,GAFA;AAGA,qBAAA,eAHA;AAIA,sBAAA,GAJA;AAKA,mBAAA,UALA;AAMA,oBAAA,mBANA;AAOA,yBAAA,SAPA;AAQA,oBAAA,GARA;AASA,kBAAA,SAAA,CAAA,SAAA;AATA,SAAA,EAUA,IAVA,CAUA,UAAA,GAAA,EAAA;AACA,UAAA,OAAA,CAAA,GAAA,CAAA,GAAA;;AACA,cAAA,GAAA,CAAA,IAAA,CAAA,CAAA,MAAA,CAAA,EAAA;AACA,mBAAA,OAAA,CAAA,MAAA;;AACA,YAAA,UAAA,CAAA,YAAA;AACA,cAAA,KAAA,CAAA,OAAA,CAAA,IAAA,CAAA,CAAA,CAAA;AACA,aAFA,EAEA,IAFA,CAAA;AAGA,WALA,MAKA;AACA,mBAAA,IAAA,CAAA,MAAA;AACA;AACA,SApBA;AAqBA;AACA,KAzEA;AA0EA,IAAA,QA1EA,oBA0EA,OA1EA,EA0EA;AAAA;;AACA,UAAA,QAAA,GAAA,iJAAA,KAAA,SAAA,GAAA,KAAA,GAAA,OAAA,CAAA,IAAA,GAAA,KAAA,GAAA,OAAA,CAAA,GAAA,GAAA,KAAA,GAAA,OAAA,CAAA,QAAA,GAAA,KAAA,GAAA,OAAA,CAAA,IAAA,GAAA,KAAA,GAAA,OAAA,CAAA,MAAA,GAAA,KAAA,GAAA,OAAA,CAAA,aAAA,GAAA,KAAA,GAAA,OAAA,CAAA,UAAA,GAAA,SAAA;AACA,MAAA,OAAA,CAAA,iBAAA,CAAA;AACA,kBAAA,MADA;AAEA,uBAAA,GAFA;AAGA,mBAAA,eAHA;AAIA,oBAAA,GAJA;AAKA,iBAAA,UALA;AAMA,kBAAA,mBANA;AAOA,uBAAA,SAPA;AAQA,kBAAA,GARA;AASA,gBAAA,SAAA,CAAA,QAAA;AATA,OAAA,EAUA,IAVA,CAUA,UAAA,GAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,GAAA;;AACA,YAAA,GAAA,CAAA,IAAA,CAAA,CAAA,MAAA,CAAA,EAAA;AACA,iBAAA,OAAA,CAAA,MAAA;;AACA,UAAA,UAAA,CAAA,YAAA;AACA,YAAA,MAAA,CAAA,OAAA,CAAA,IAAA,CAAA,CAAA,CAAA;AACA,WAFA,EAEA,IAFA,CAAA;AAGA,SALA,MAKA;AACA,iBAAA,IAAA,CAAA,MAAA;AACA;AACA,OApBA;AAqBA;AAjGA;AAlBA,CAAA","sourcesContent":["<template>\r\n    <div class=\"adderss-layout\">\r\n        <header class=\"address-header\">\r\n            <the-title :title=\"title\"/>\r\n        </header>\r\n        <div class=\"app-view-wrap-address\">\r\n            <van-address-edit\r\n                :area-list=\"areaList\"\r\n                :address-info=\"addressInfo\"\r\n                show-postal\r\n                :show-delete=\"showDelete\"\r\n                show-set-default\r\n                @save=\"onSave\"\r\n                @delete=\"onDelete\"\r\n                @change-default=\"changeDefault\"\r\n            />\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport TheTitle from 'components/TheTitle.vue'\r\nimport areaList from '../assets/js/area'\r\nimport { AddressEdit, Toast } from 'vant'\r\nimport Address from '../api/address'\r\nimport { setTimeout } from 'timers';\r\n\r\nexport default {\r\n    components: {\r\n        [AddressEdit.name]: AddressEdit,\r\n        [Toast.name]: Toast,\r\n        TheTitle\r\n    },\r\n    data() {\r\n        return {\r\n            title: '',\r\n            areaList,\r\n            addressInfo: {},\r\n            showDelete: false,\r\n            addressID: ''\r\n        }\r\n    },\r\n    created(){\r\n        this.init()\r\n    },\r\n    methods: {\r\n        init(){\r\n            if(this.$route.query.name){\r\n                this.title = '编辑收货地址'\r\n                this.showDelete = true\r\n            }else{\r\n                this.title = '添加收货地址'\r\n            }\r\n            this.addressInfo.name = this.$route.query.name\r\n            this.addressInfo.tel = this.$route.query.tel\r\n            this.addressInfo.province = this.$route.query.ConsigneeProvince\r\n            this.addressInfo.city = this.$route.query.ConsigneeCity\r\n            this.addressInfo.county = this.$route.query.ConsigneeCounty\r\n            this.addressInfo.addressDetail = this.$route.query.ConsigneeAddress\r\n            this.addressInfo.postalCode = this.$route.query.ConsigneePostalcode\r\n            this.addressID = this.$route.query.addressID\r\n            if(this.$route.query.ConsigneeStatus == '0'){\r\n                this.addressInfo.isDefault = true\r\n            }else{\r\n                this.addressInfo.isDefault = false\r\n            }\r\n        },\r\n        changeDefault(value){\r\n            console.log(value)\r\n        },\r\n        onSave(content) {\r\n            if(!this.showDelete){\r\n                let postData = '[[\"UserName\",\"UserMobile\",\"ConsigneeProvince\",\"ConsigneeCity\",\"ConsigneeCounty\",\"UserAddress\",\"ConsigneePostalcode\",\"AddressStatus\"],[\"'+content.name+'\",\"'+content.tel+'\",\"'+content.province+'\",\"'+content.city+'\",\"'+content.county+'\",\"'+content.addressDetail+'\",\"'+content.postalCode+'\",\"0\"]]'\r\n                Address.UserAddressManage({\r\n                    \"SOURCE\": \"TEST\",\r\n                    \"CREDENTIALS\": \"0\",\r\n                    \"ADDRESS\": \"192.168.1.195\",\r\n                    \"TERMINAL\": \"0\",\r\n                    \"INDEX\": \"20170714\",\r\n                    \"METHOD\": \"UserAddressManage\",\r\n                    \"UserAccount\": \"test001\",\r\n                    \"Status\": \"1\",\r\n                    \"DATA\": encodeURI(postData)\r\n                }).then(res => {\r\n                    console.log(res)\r\n                    if(res.DATA[0] === 1){\r\n                        Toast.success('添加成功')\r\n                        setTimeout(() => {\r\n                            this.$router.back(-1)\r\n                        }, 2000)\r\n                    }else{\r\n                        Toast.fail('添加失败')\r\n                    }\r\n                })\r\n            }else{\r\n                let postData = '[[\"ID\",\"UserName\",\"UserMobile\",\"ConsigneeProvince\",\"ConsigneeCity\",\"ConsigneeCounty\",\"UserAddress\",\"ConsigneePostalcode\",\"AddressStatus\"],[\"'+this.addressID+'\",\"'+content.name+'\",\"'+content.tel+'\",\"'+content.province+'\",\"'+content.city+'\",\"'+content.county+'\",\"'+content.addressDetail+'\",\"'+content.postalCode+'\",\"1\"]]'\r\n                Address.UserAddressManage({\r\n                    \"SOURCE\": \"TEST\",\r\n                    \"CREDENTIALS\": \"0\",\r\n                    \"ADDRESS\": \"192.168.1.195\",\r\n                    \"TERMINAL\": \"0\",\r\n                    \"INDEX\": \"20170714\",\r\n                    \"METHOD\": \"UserAddressManage\",\r\n                    \"UserAccount\": \"test001\",\r\n                    \"Status\": \"0\",\r\n                    \"DATA\": encodeURI(postData)\r\n                }).then(res => {\r\n                    console.log(res)\r\n                    if(res.DATA[0] === 1){\r\n                        Toast.success('修改成功')\r\n                        setTimeout(() => {\r\n                            this.$router.back(-1)\r\n                        }, 2000)\r\n                    }else{\r\n                        Toast.fail('修改失败')\r\n                    }\r\n                })\r\n            }\r\n        },  \r\n        onDelete(content) {\r\n            let postData = '[[\"ID\",\"UserName\",\"UserMobile\",\"ConsigneeProvince\",\"ConsigneeCity\",\"ConsigneeCounty\",\"UserAddress\",\"ConsigneePostalcode\",\"AddressStatus\"],[\"'+this.addressID+'\",\"'+content.name+'\",\"'+content.tel+'\",\"'+content.province+'\",\"'+content.city+'\",\"'+content.county+'\",\"'+content.addressDetail+'\",\"'+content.postalCode+'\",\"1\"]]'\r\n                Address.UserAddressManage({\r\n                    \"SOURCE\": \"TEST\",\r\n                    \"CREDENTIALS\": \"0\",\r\n                    \"ADDRESS\": \"192.168.1.195\",\r\n                    \"TERMINAL\": \"0\",\r\n                    \"INDEX\": \"20170714\",\r\n                    \"METHOD\": \"UserAddressManage\",\r\n                    \"UserAccount\": \"test001\",\r\n                    \"Status\": \"2\",\r\n                    \"DATA\": encodeURI(postData)\r\n                }).then(res => {\r\n                    console.log(res)\r\n                    if(res.DATA[0] === 1){\r\n                        Toast.success('删除成功')\r\n                        setTimeout(() => {\r\n                            this.$router.back(-1)\r\n                        }, 2000)\r\n                    }else{\r\n                        Toast.fail('删除失败')\r\n                    }\r\n                })\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"stylus\">\r\n    .app-view-wrap-address .van-cell{\r\n        text-align left \r\n        align-items center\r\n    }\r\n    .adderss-layout{\r\n        height 100vh\r\n        background #f3f3f3\r\n    }\r\n    .app-view-wrap-address{\r\n        padding-top 51px\r\n    }\r\n    .van-button--danger{\r\n        background-color #FF3947\r\n        border 1px solid #FF3947\r\n    }\r\n</style>\r\n\r\n"],"sourceRoot":"src/views"}]}