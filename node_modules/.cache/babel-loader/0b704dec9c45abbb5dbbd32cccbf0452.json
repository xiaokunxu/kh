{"remainingRequest":"/Users/xxk/Desktop/mall/node_modules/.8.0.6@babel-loader/lib/index.js!/Users/xxk/Desktop/mall/node_modules/.2.0.1@cache-loader/dist/cjs.js??ref--0-0!/Users/xxk/Desktop/mall/node_modules/.15.7.0@vue-loader/lib/index.js??vue-loader-options!/Users/xxk/Desktop/mall/src/views/KhHome.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/xxk/Desktop/mall/src/views/KhHome.vue","mtime":1560696534837},{"path":"/Users/xxk/Desktop/mall/node_modules/.2.0.1@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/xxk/Desktop/mall/node_modules/.8.0.6@babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/xxk/Desktop/mall/node_modules/.2.0.1@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/xxk/Desktop/mall/node_modules/.15.7.0@vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.split\";\nimport \"core-js/modules/web.dom.iterable\";\nimport _defineProperty from \"/Users/xxk/Desktop/mall/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport \"vant/es/pull-refresh/style\";\nimport _PullRefresh from \"vant/es/pull-refresh\";\nimport \"vant/es/swipe-item/style\";\nimport _SwipeItem from \"vant/es/swipe-item\";\nimport \"core-js/modules/es6.function.name\";\nimport \"vant/es/swipe/style\";\nimport _Swipe from \"vant/es/swipe\";\n\nvar _components;\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport Home from \"../api/home\";\nimport TheFooter from 'components/TheFooter.vue';\nimport Swiper from 'swiper';\nimport 'swiper/dist/css/swiper.min.css';\nvar logo = [{\n  img: require(\"../assets/images/home/home-ic-sort@3x.png\"),\n  name: '全部商品'\n}, {\n  img: require(\"../assets/images/home/home_ic_Drink@3x.png\"),\n  name: '饮食酒水'\n}, {\n  img: require(\"../assets/images/home/home_ic_milkpowder@3x.png\"),\n  name: '进口奶粉'\n}, {\n  img: require(\"../assets/images/home/home_ic_oil@3x.png\"),\n  name: '食用油'\n}];\nexport default {\n  components: (_components = {}, _defineProperty(_components, _Swipe.name, _Swipe), _defineProperty(_components, _SwipeItem.name, _SwipeItem), _defineProperty(_components, _PullRefresh.name, _PullRefresh), _defineProperty(_components, \"TheFooter\", TheFooter), _components),\n  data: function data() {\n    return {\n      logo: logo,\n      classifyList: [],\n      commodityList: [],\n      imgList: null,\n      isLoading: false,\n      current: 0,\n      swiperImg: [require(\"../assets/images/recommend1.jpg\"), require(\"../assets/images/recommend2.jpg\"), require(\"../assets/images/recommend1.jpg\"), require(\"../assets/images/recommend2.jpg\")],\n      specialPriceImg: require(\"../assets/images/home/home_specialprice@3x.png\")\n    };\n  },\n  beforeRouteEnter: function beforeRouteEnter(to, from, next) {\n    if (from.name) {\n      var postData = '[[\"UserAccount\",\"Status\",\"IndustryName\"],[\"0\",\"0\",\"0\"]]';\n      Home.IndustryInfo({\n        \"SOURCE\": \"TEST\",\n        \"CREDENTIALS\": \"0\",\n        \"ADDRESS\": \"192.168.1.195\",\n        \"TERMINAL\": \"0\",\n        \"INDEX\": \"20170714\",\n        \"METHOD\": \"IndustryInfo\",\n        \"DATA\": encodeURI(postData)\n      }).then(function (res) {\n        next(function (vm) {\n          return vm.setHomeList(res);\n        });\n      });\n    } else {\n      next(function (vm) {\n        return vm.getHomeList();\n      });\n    } // next(vm => vm.getImg())\n\n  },\n  created: function created() {// this.setHomeList()\n  },\n  methods: {\n    getHomeList: function getHomeList() {},\n    setHomeList: function setHomeList(data) {\n      var _this = this;\n\n      this.classifyList = data.DATA[0].IndustryName;\n      console.log(data.DATA[0].IndustryName); // for(let j = 0; j<this.classifyList.length;j++){\n\n      this.classifyList.forEach(function (item) {\n        var postData = \"[[\\\"IndustryNameOne\\\",\\\"Sum\\\",\\\"Num\\\"],[\\\"\".concat(item, \"\\\",\\\"1\\\",\\\"5\\\"]]\");\n        Home.GetCommodityTable({\n          \"SOURCE\": \"TEST\",\n          \"CREDENTIALS\": \"0\",\n          \"ADDRESS\": \"192.168.1.195\",\n          \"TERMINAL\": \"0\",\n          \"INDEX\": \"20170714\",\n          \"METHOD\": \"GetCommodityTable\",\n          \"UserAccount\": \"qw123456\",\n          \"DATA\": encodeURI(postData)\n        }).then(function (res) {\n          console.log(res.DATA);\n          var commodityArr = res.DATA;\n          _this.commodityList = [];\n\n          for (var i = 0; i < commodityArr[0].CommodityCode.length; i++) {\n            _this.commodityList.push({\n              AttributeGroup: commodityArr[0].AttributeGroup[i],\n              BUserAccount: commodityArr[0].BUserAccount[i],\n              BrandName: commodityArr[0].BrandName[i],\n              CommodityCode: commodityArr[0].CommodityCode[i],\n              CommodityName: commodityArr[0].CommodityName[i],\n              FilePath: commodityArr[0].FilePath[i].split(',')[0] + commodityArr[0].FilePath[i].split(',')[1],\n              ItemNum: commodityArr[0].ItemNum[i],\n              SalesSum: commodityArr[0].SalesSum[i],\n              StockSum: commodityArr[0].StockSum[i],\n              Subheading: commodityArr[0].Subheading[i],\n              SupplyMoney: commodityArr[0].SupplyMoney[i]\n            });\n          }\n\n          console.log(_this.commodityList);\n        });\n      });\n    },\n    getImg: function getImg() {\n      var _this2 = this;\n\n      this.$fetch('getImg', {\n        'aaaa': '111'\n      }).then(function (res) {\n        _this2.imgList = res.data;\n\n        _this2.$nextTick(function () {\n          new Swiper('.swiper-container', {\n            pagination: {\n              el: '.swiper-pagination'\n            },\n            loop: true,\n            autoplay: {\n              delay: 2000\n            }\n          });\n        });\n      });\n    },\n    onCategory: function onCategory(index) {\n      this.$router.push('./CommodityList');\n    },\n    toSearch: function toSearch() {\n      this.$router.push('./search');\n    },\n    toCommodityList: function toCommodityList() {\n      this.$router.push('./CommodityList');\n    },\n    toDetail: function toDetail(item) {\n      this.$router.push({\n        name: 'KhDetail',\n        query: {\n          ItemNum: item.ItemNum,\n          AttributeGroup: item.AttributeGroup\n        }\n      });\n    },\n    toCart: function toCart() {\n      this.$router.push('./cart');\n    },\n    onChangeSwiper: function onChangeSwiper(index) {\n      this.current = index;\n    },\n    onRefresh: function onRefresh() {\n      var _this3 = this;\n\n      setTimeout(function () {\n        _this3.$toast('刷新成功');\n\n        _this3.isLoading = false;\n      }, 500);\n    }\n  }\n};",{"version":3,"sources":["KhHome.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n    <div class=\"layout\">\r\n        <div class=\"app-view-wrapper\">\r\n            <header class=\"header\">\r\n                <div class=\"home-header\">\r\n                    <div class=\"app-header-wrapper clearfix\">\r\n                        <div class=\"app-header-middle\">\r\n                            <div class=\"app-header-title\">\r\n                                <span class=\"title\">正品汇</span>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"app-header-right\">\r\n                            <div class=\"app-header-item\">\r\n                                <img class=\"seachbtn\" src=\"../assets/images/home/home_ic_search@3x.png\" alt=\"\" @click=\"toSearch\">\r\n                                <img @click=\"toCart\" src=\"../assets/images/home/home_ic_shopcart@3x.png\" alt=\"\">\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"app-header-bg\"></div>\r\n            </header>\r\n            <van-pull-refresh v-model=\"isLoading\" @refresh=\"onRefresh\">\r\n            <div class=\"home-swiper\">\r\n            <!-- <div class=\"swiper-container\"> -->\r\n                    <!-- <div class=\"swiper-wrapper\">\r\n                        <div class=\"swiper-slide\" v-for=\"(img, index) in imgList\" :key=\"index\">\r\n                            <img :src=\"img.img\" alt=\"\">\r\n                        </div>\r\n                    </div> -->\r\n                    <van-swipe :autoplay=\"3000\" @change=\"onChangeSwiper\">\r\n                        <van-swipe-item v-for=\"(image, index) in swiperImg\" :key=\"index\">\r\n                            <img v-lazy=\"image\" />\r\n                        </van-swipe-item>\r\n                        <!-- <div class=\"custom-indicator home-swiper-indicator\" slot=\"indicator\">\r\n                            {{ current + 1 }}/4\r\n                        </div> -->\r\n                    </van-swipe>\r\n                </div>\r\n            <div class=\"page-wrapper\">\r\n                <div class=\"bodys\">\r\n                    <div class=\"tips bodys-wrapper\">\r\n                        <div class=\"tips-msg\">\r\n                            <img src=\"../assets/images/home/home_ic_notice@3x.png\" alt=\"\">\r\n                            <span>正品汇成为中国最大家电零售商!</span>\r\n                        </div>\r\n                        <div class=\"tips-detail\">详情</div>\r\n                    </div>\r\n                    <div class=\"category bodys-wrapper\">\r\n                        <ul class=\"category-item\">\r\n                            <li v-for=\"(item, index) in logo\" :key=\"index\" @click=\"onCategory(index)\">\r\n                                <img :src=\"item.img\" alt=\"\">\r\n                                <span>{{item.name}}</span>\r\n                            </li>\r\n                        </ul>\r\n                    </div>\r\n                    <div class=\"special-price bodys-wrapper\">\r\n                        <a @click=\"toCommodityList\"><img v-lazy=\"specialPriceImg\" ></a>\r\n                    </div>\r\n                    <div class=\"category_group bodys-wrapper\">\r\n                        <div class=\"cells\">\r\n                            <a class=\"exposure\" href=\"\"><img src=\"../assets/images/recommend1.jpg\" alt=\"\"></a>\r\n                            <a class=\"exposure\" href=\"\"><img src=\"../assets/images/recommend2.jpg\" alt=\"\"></a>\r\n                        </div>\r\n                        <div class=\"cells\">\r\n                            <a class=\"exposure\" href=\"\"><img src=\"../assets/images/recommend1.jpg\" alt=\"\"></a>\r\n                            <a class=\"exposure\" href=\"\"><img src=\"../assets/images/recommend2.jpg\" alt=\"\"></a>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"good-stuff\">\r\n                        <div class=\"kinds-title\">\r\n                            <div class=\"good-stuff-left\">\r\n                                <span class=\"left-title\">新鲜好物</span>\r\n                                <span class=\"left-sub\">进口爆款新鲜看</span>\r\n                            </div>\r\n                            <div class=\"good-stuff-more\">\r\n                                <span>更多好物</span>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"good-stuff-bg\">\r\n                            <img src=\"../assets/images/banner2.jpg\" alt=\"\">\r\n                            <div class=\"good-stuff-wrapper\">\r\n                            <div class=\"good-stuff-items\">\r\n                                <div class=\"good-stuff-container\">\r\n                                    <a href=\"\">\r\n                                        <img src=\"../assets/images/recommend2.jpg\" alt=\"\">\r\n                                        <div class=\"items-txt\">\r\n                                            <p class=\"items-title\">路易威登经典单肩包</p>\r\n                                            <p class=\"items-title-sub\">nano speedy包</p>\r\n                                            <p class=\"items-price\">￥18990</p>\r\n                                        </div>\r\n                                    </a>\r\n                                </div>\r\n                                <div class=\"good-stuff-container\">\r\n                                    <a href=\"\">\r\n                                        <img src=\"../assets/images/recommend2.jpg\" alt=\"\">\r\n                                        <div class=\"items-txt\">\r\n                                            <p class=\"items-title\">路易威登经典单肩包</p>\r\n                                            <p class=\"items-title-sub\">nano speedy包</p>\r\n                                            <p class=\"items-price\">￥18990</p>\r\n                                        </div>\r\n                                    </a>\r\n                                </div>\r\n                                <div class=\"good-stuff-container\">\r\n                                    <a href=\"\">\r\n                                        <img src=\"../assets/images/recommend2.jpg\" alt=\"\">\r\n                                        <div class=\"items-txt\">\r\n                                            <p class=\"items-title\">路易威登经典单肩包</p>\r\n                                            <p class=\"items-title-sub\">nano speedy包</p>\r\n                                            <p class=\"items-price\">￥18990</p>\r\n                                        </div>\r\n                                    </a>\r\n                                </div>\r\n                                <div class=\"good-stuff-container\">\r\n                                    <a href=\"\">\r\n                                        <img src=\"../assets/images/recommend2.jpg\" alt=\"\">\r\n                                        <div class=\"items-txt\">\r\n                                            <p class=\"items-title\">路易威登经典单肩包</p>\r\n                                            <p class=\"items-title-sub\">nano speedy包</p>\r\n                                            <p class=\"items-price\">￥18990</p>\r\n                                        </div>\r\n                                    </a>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        </div>\r\n                        \r\n                    </div>\r\n                    <div class=\"kinds\" v-for=\"(list, index) in classifyList\" :key=\"index\">\r\n                        <div class=\"kinds-title\">\r\n                            <div class=\"good-stuff-left\">\r\n                                <span class=\"left-title\">{{list}}</span>\r\n                                <span class=\"left-sub\">爽口一夏</span>\r\n                            </div>\r\n                            <div class=\"good-stuff-more\">\r\n                                <span>更多好物</span>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"kinds-container\">\r\n                            <ul class=\"kinds-items\">\r\n                                <li v-for=\"(item, index) in commodityList\" :key=\"index\" @click=\"toDetail(item)\">\r\n                                    <!-- <a href=\"\"> -->\r\n                                        <div class=\"kinds-wrapper\">\r\n                                            <div class=\"kinds-pic\">\r\n                                                <img v-lazy=\"item.FilePath\" alt=\"\">\r\n                                            </div>\r\n                                            <div class=\"list-txt\">\r\n                                                <p>{{item.CommodityName}}</p>\r\n                                                <p class=\"kinds-sub-title\">{{item.Subheading}}</p>\r\n                                                <p class=\"kinds-price\">￥{{item.SupplyMoney}}</p>\r\n                                                \r\n                                            </div>\r\n                                            <div class=\"remaining\">\r\n                                                    <span>还剩{{item.StockSum}}件</span>\r\n                                                </div>\r\n                                        </div>\r\n                                    <!-- </a> -->\r\n                                </li>\r\n                            </ul>\r\n                        </div>\r\n                    </div>\r\n                    <!-- <div class=\"kinds\">\r\n                        <div class=\"kinds-title\">\r\n                            <div class=\"good-stuff-left\">\r\n                                <span class=\"left-title\">饮食酒水</span>\r\n                                <span class=\"left-sub\">爽口一夏</span>\r\n                            </div>\r\n                            <div class=\"good-stuff-more\">\r\n                                <span>更多好物</span>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"kinds-container\">\r\n                            <ul class=\"kinds-items\">\r\n                                <li>\r\n                                    <a href=\"\">\r\n                                        <div class=\"kinds-wrapper\">\r\n                                            <div class=\"kinds-pic\">\r\n                                                <img src=\"../assets/images/recommend1.jpg\" alt=\"\">\r\n                                            </div>\r\n                                            <div class=\"list-txt\">\r\n                                                <p>【直营】 法国拉菲传奇波尔多进口干红酒葡萄酒6支装整箱</p>\r\n                                                <p class=\"erskinds-y\">2019</p>\r\n                                                <p class=\"kinds-sub-title\">法国进口国内现货</p>\r\n                                                <p class=\"kinds-price\">￥1000.00</p>\r\n                                                <div class=\"remaining\">\r\n                                                    <span>还剩50件</span>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </a>\r\n                                </li>\r\n                                <li>\r\n                                    <a href=\"\">\r\n                                        <div class=\"kinds-wrapper\">\r\n                                            <div class=\"kinds-pic\">\r\n                                                <img src=\"../assets/images/recommend1.jpg\" alt=\"\">\r\n                                            </div>\r\n                                            <div class=\"list-txt\">\r\n                                                <p>【直营】 法国拉菲传奇波尔多进口干红酒葡萄酒6支装整箱</p>\r\n                                                <p class=\"erskinds-y\">2019</p>\r\n                                                <p class=\"kinds-sub-title\">法国进口国内现货</p>\r\n                                                <p class=\"kinds-price\">￥1000.00</p>\r\n                                                <div class=\"remaining\">\r\n                                                    <span>还剩50件</span>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </a>\r\n                                </li>\r\n                            </ul>\r\n                        </div>\r\n                    </div> -->\r\n                </div>\r\n            </div>\r\n            </van-pull-refresh>\r\n        </div>\r\n        <the-footer />\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport Home from '../api/home'\r\nimport { Swipe, SwipeItem, PullRefresh } from 'vant'\r\nimport TheFooter from 'components/TheFooter.vue'\r\nimport Swiper from 'swiper'\r\nimport 'swiper/dist/css/swiper.min.css'\r\nconst logo = [\r\n    {img: require('../assets/images/home/home-ic-sort@3x.png'), name: '全部商品'},\r\n    {img: require('../assets/images/home/home_ic_Drink@3x.png'), name: '饮食酒水'},\r\n    {img: require('../assets/images/home/home_ic_milkpowder@3x.png'), name: '进口奶粉'},\r\n    {img: require('../assets/images/home/home_ic_oil@3x.png'), name: '食用油'},\r\n]\r\n\r\nexport default {\r\n    components: {\r\n        [Swipe.name]: Swipe,\r\n        [SwipeItem.name]: SwipeItem,\r\n        [PullRefresh.name]: PullRefresh,\r\n        TheFooter,\r\n    },\r\n    data() {\r\n        return {\r\n            logo,\r\n            classifyList: [],\r\n            commodityList: [],\r\n            imgList: null,\r\n            isLoading: false,\r\n            current: 0,\r\n            swiperImg: [\r\n                require('../assets/images/recommend1.jpg'),\r\n                require('../assets/images/recommend2.jpg'),\r\n                require('../assets/images/recommend1.jpg'),\r\n                require('../assets/images/recommend2.jpg'),\r\n            ],\r\n            specialPriceImg: require('../assets/images/home/home_specialprice@3x.png'),\r\n        }\r\n    },\r\n    beforeRouteEnter (to, from, next) {\r\n        if(from.name){\r\n            let postData = '[[\"UserAccount\",\"Status\",\"IndustryName\"],[\"0\",\"0\",\"0\"]]'\r\n            Home.IndustryInfo({\r\n                \"SOURCE\": \"TEST\",\r\n                \"CREDENTIALS\": \"0\",\r\n                \"ADDRESS\": \"192.168.1.195\",\r\n                \"TERMINAL\": \"0\",\r\n                \"INDEX\": \"20170714\",\r\n                \"METHOD\": \"IndustryInfo\",\r\n                \"DATA\": encodeURI(postData)\r\n            }).then(res => {\r\n                next(vm => vm.setHomeList(res))\r\n            })\r\n        }else{\r\n            next(vm => vm.getHomeList())\r\n        }\r\n        // next(vm => vm.getImg())\r\n    },\r\n    created(){\r\n        // this.setHomeList()\r\n    },\r\n    methods: {\r\n        getHomeList(){\r\n\r\n        },\r\n        setHomeList(data){\r\n            this.classifyList = data.DATA[0].IndustryName\r\n            console.log(data.DATA[0].IndustryName)\r\n            // for(let j = 0; j<this.classifyList.length;j++){\r\n            this.classifyList.forEach(item => {\r\n                let postData = `[[\"IndustryNameOne\",\"Sum\",\"Num\"],[\"${item}\",\"1\",\"5\"]]`\r\n                Home.GetCommodityTable({\r\n                    \"SOURCE\": \"TEST\",\r\n                    \"CREDENTIALS\": \"0\",\r\n                    \"ADDRESS\": \"192.168.1.195\",\r\n                    \"TERMINAL\": \"0\",\r\n                    \"INDEX\": \"20170714\",\r\n                    \"METHOD\": \"GetCommodityTable\",\r\n                    \"UserAccount\": \"qw123456\",\r\n                    \"DATA\": encodeURI(postData)\r\n                }).then(res => {\r\n                    console.log(res.DATA)\r\n                    let commodityArr = res.DATA\r\n                    this.commodityList = []\r\n                    for(let i = 0; i<commodityArr[0].CommodityCode.length; i++){\r\n                        this.commodityList.push({\r\n                            AttributeGroup: commodityArr[0].AttributeGroup[i],\r\n                            BUserAccount: commodityArr[0].BUserAccount[i],\r\n                            BrandName: commodityArr[0].BrandName[i],\r\n                            CommodityCode: commodityArr[0].CommodityCode[i],\r\n                            CommodityName: commodityArr[0].CommodityName[i],\r\n                            FilePath: commodityArr[0].FilePath[i].split(',')[0]+commodityArr[0].FilePath[i].split(',')[1],\r\n                            ItemNum: commodityArr[0].ItemNum[i],\r\n                            SalesSum: commodityArr[0].SalesSum[i],\r\n                            StockSum: commodityArr[0].StockSum[i],\r\n                            Subheading: commodityArr[0].Subheading[i],\r\n                            SupplyMoney: commodityArr[0].SupplyMoney[i],\r\n                        })\r\n                    }\r\n                    console.log(this.commodityList)\r\n                })\r\n            })\r\n        },\r\n        getImg(){\r\n            this.$fetch('getImg', {'aaaa':'111'}).then(res => {\r\n                this.imgList = res.data\r\n                this.$nextTick(() => {\r\n                    new Swiper('.swiper-container', {\r\n                        pagination: {\r\n                            el: '.swiper-pagination'\r\n                        },\r\n                        loop: true,\r\n                        autoplay: {\r\n                            delay: 2000,\r\n                        },\r\n                    })\r\n                })\r\n            })\r\n        },\r\n        onCategory(index){\r\n            this.$router.push('./CommodityList')\r\n        },\r\n        toSearch(){\r\n            this.$router.push('./search')\r\n        },\r\n        toCommodityList(){\r\n            this.$router.push('./CommodityList')\r\n        },\r\n        toDetail(item){\r\n            this.$router.push({name: 'KhDetail', query: {ItemNum: item.ItemNum, AttributeGroup: item.AttributeGroup}})\r\n        },\r\n        toCart(){\r\n            this.$router.push('./cart')\r\n        },\r\n        onChangeSwiper(index){\r\n            this.current = index\r\n        },\r\n        onRefresh() {\r\n            setTimeout(() => {\r\n                this.$toast('刷新成功')\r\n                this.isLoading = false\r\n            }, 500);\r\n        },\r\n    }\r\n}\r\n</script>\r\n<style lang=\"stylus\">\r\n.header{\r\n    /* position: fixed;\r\n    top: -1px;\r\n    left: 0;\r\n    right: 0;\r\n    z-index: 99; */\r\n    position: relative;\r\n    /* padding: 12px 10px; */\r\n    font-size: 18px;\r\n    .home-header{\r\n        position: fixed;\r\n        top: 0;\r\n        width: 100%;\r\n        background: #ff3948;\r\n        color: #fff;\r\n        z-index: 100;\r\n    }\r\n}\r\n.app-header-wrapper{\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: space-between;\r\n    height: 50px;\r\n    padding-right: 10px\r\n    .app-header-item{\r\n        font-size 0\r\n    }\r\n}\r\n.app-header-middle{\r\n    flex: 2;\r\n    margin-left: 54px;\r\n    letter-spacing: 2px;\r\n    font-weight: bold;\r\n}\r\n.app-header-bg{\r\n    position: absolute;\r\n    left: 0;\r\n    top 50px\r\n    width: 100%;\r\n    height: 110px;\r\n    background: #ff3948;\r\n    z-index: -99;\r\n}\r\n.app-header-item img{\r\n    width: 20px;\r\n}\r\n.app-header-item .seachbtn{\r\n    margin-right: 14px;\r\n}\r\n.swiper-container{\r\n    padding: 0 8px;\r\n}\r\n.swiper-slide img{\r\n    width: 100%;\r\n    border-radius: 10px;\r\n    box-shadow: 0 10px 20px 4px rgba(0, 0, 0, .1);\r\n}\r\n.page-wrapper .bodys{\r\n    padding-bottom: 52px;\r\n    background: #fff;\r\n    overflow: hidden;\r\n}\r\n.bodys-wrapper{\r\n    padding: 0 8px;\r\n}\r\n.home-swiper{\r\n    padding 0 8px\r\n    margin-top 50px\r\n    img{\r\n        width 100%\r\n        height 180px\r\n        border-radius: 10px;\r\n        // box-shadow: 0 10px 20px 4px rgba(0, 0, 0, .1);\r\n    }\r\n    .home-swiper-indicator{\r\n            position absolute \r\n            bottom 10px\r\n            right 10px\r\n            height 17px\r\n            line-height 17px\r\n            padding 0 10px\r\n            background rgba(0, 0, 0, .5)\r\n            border-radius 30px\r\n            font-size 12px\r\n            color #fff\r\n        }\r\n}\r\n.page-wrapper .tips{\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: space-between;\r\n    margin: 18px 8px;\r\n}\r\n.page-wrapper .tips img{\r\n    width: 18px;\r\n    padding-right: 10px;\r\n    vertical-align: middle;\r\n}\r\n.page-wrapper .tips .tips-msg{\r\n    display: flex;\r\n    align-items: center;\r\n    color: #ff3948;\r\n    font-weight: 500;\r\n    font-size: 14px;\r\n    letter-spacing: 1px;\r\n}\r\n.page-wrapper .tips .tips-detail{\r\n    padding: 4px 10px;\r\n    background: #facc0f;\r\n    border-radius: 6px;\r\n    box-shadow: 0 5px 16px 2px rgba(0, 0, 0, .15);\r\n    font-size: 12px;\r\n    color: #fff;\r\n}\r\n.page-wrapper .category-item{\r\n    display: flex;\r\n    justify-content: space-between;\r\n    li{\r\n        // flex 1\r\n        display flex\r\n        align-items center\r\n        flex-flow column\r\n        font-size 14px\r\n        color #000\r\n        img{\r\n            width 58px\r\n            padding-bottom 10px\r\n        }\r\n    }\r\n}\r\n.special-price{\r\n    font-size 0\r\n    img{\r\n        width: 100%;\r\n        margin-top: 18px;\r\n    }\r\n}\r\n.category_group .cells{\r\n    display: flex;\r\n    justify-content: space-between;\r\n    margin-top: 6px;\r\n}\r\n.category_group .cells .exposure{\r\n    font-size: 0;\r\n}\r\n.category_group .cells img{\r\n    width: 98%;\r\n    height: 120px;\r\n}\r\n.category_group .cells img{\r\n    border-radius: 10px;\r\n}\r\n.kinds-title{\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n    padding: 0 10px;\r\n    margin-top: 22px;\r\n    margin-bottom: 14px;\r\n}\r\n.good-stuff{\r\n    padding-bottom 150px\r\n}\r\n.good-stuff-bg img{\r\n    width: 100%;\r\n}\r\n.good-stuff-bg{\r\n    // background url('../assets/images/banner2.jpg') center no-repeat\r\n}\r\n.kinds-title .left-title{\r\n    color #000\r\n    font-size: 20px;\r\n    font-weight: 700;\r\n    letter-spacing: 2px;\r\n}\r\n.kinds-title .left-sub{\r\n    margin-left: 10px;\r\n    font-size: 12px;\r\n    color: #b2b2b2;\r\n    letter-spacing: 1px;\r\n}\r\n.good-stuff-more span{\r\n    display: inline-block;\r\n    padding: 4px 8px;\r\n    border: 1px solid #ff3948;;\r\n    border-radius: 15px;\r\n    font-size: 12px;\r\n    color: #ff3948;\r\n}\r\n.good-stuff-bg{\r\n    position relative\r\n}\r\n.good-stuff-wrapper{\r\n    position absolute\r\n    width 100%\r\n    top 100px\r\n}\r\n.good-stuff-items{\r\n    display: flex;\r\n    padding: 0 12px;\r\n    overflow-x: auto;\r\n}\r\n.good-stuff-items .good-stuff-container{\r\n    margin-right: 4px;\r\n    border: 1px solid #eee;\r\n    border-radius: 8px;\r\n    font-size: 14px;\r\n}\r\n.good-stuff-items .good-stuff-container img{\r\n    width: 130px;\r\n    border-bottom: 1px solid #eee;\r\n    border-top-left-radius: 8px;\r\n    border-top-right-radius: 8px;\r\n}\r\n.good-stuff-items .good-stuff-container .items-title{\r\n    padding-top: 4px;\r\n    color: #666;\r\n}\r\n.good-stuff-items .good-stuff-container .items-title-sub{\r\n    padding: 6px 0 10px;\r\n    font-size: 12px;\r\n    color: #ccc;\r\n}\r\n.good-stuff-items .good-stuff-container .items-price{\r\n    padding-bottom: 12px;\r\n    font-size: 14px;\r\n    color: #ff3948;\r\n}\r\n.kinds-container{\r\n    padding: 6px 6px 0;\r\n    background: #eee;\r\n    overflow: hidden;\r\n}\r\n.kinds-items li{\r\n    padding: 6px;\r\n    margin-bottom: 8px;\r\n    background: #fff;\r\n    border-radius: 8px;\r\n}\r\n.kinds-items .kinds-wrapper{\r\n    position relative\r\n    display: flex;\r\n    align-items: center;\r\n    .kinds-pic{\r\n        font-size 0\r\n    }\r\n}\r\n.kinds-items .kinds-pic img{\r\n    width: 140px;\r\n    height 140px\r\n    border-radius: 8px;\r\n}\r\n.list-txt{\r\n    position relative\r\n    height 140px\r\n    margin-right: 8px;\r\n    margin-left 12px\r\n    text-align: left;\r\n    font-size: 14px;\r\n    color: #000;\r\n    line-height: 20px;\r\n    \r\n}\r\n.remaining{\r\n    span{\r\n        position absolute\r\n        right 0\r\n        bottom 0\r\n        display: inline-block;\r\n        padding: 5px 15px;\r\n        background: #ff3948;\r\n        border-radius: 15px;\r\n        font-size: 12px;\r\n        color: #fff;\r\n    }\r\n}\r\n.list-txt .kinds-sub-title{\r\n    color: #ccc;\r\n}\r\n.list-txt .kinds-price{\r\n    padding-top: 4px;\r\n    color: #ff3948;\r\n}\r\n</style>\r\n"],"sourceRoot":"src/views"}]}