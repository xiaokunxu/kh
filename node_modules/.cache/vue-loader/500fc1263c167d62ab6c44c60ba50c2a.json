{"remainingRequest":"/Users/xxk/Desktop/mall/node_modules/.15.7.0@vue-loader/lib/index.js??vue-loader-options!/Users/xxk/Desktop/mall/src/views/cart/OrderCheckout.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/xxk/Desktop/mall/src/views/cart/OrderCheckout.vue","mtime":1560149660000},{"path":"/Users/xxk/Desktop/mall/node_modules/.2.0.1@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/xxk/Desktop/mall/node_modules/.8.0.6@babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/xxk/Desktop/mall/node_modules/.2.0.1@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/xxk/Desktop/mall/node_modules/.15.7.0@vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nimport TheTitle from 'components/TheTitle.vue'\r\nimport Order from '../../api/order'\r\nimport { Checkbox } from 'vant'\r\n\r\nexport default {\r\n    components: {\r\n        TheTitle,\r\n        [Checkbox.name]: Checkbox\r\n    },\r\n    data(){\r\n        return{\r\n            orderCheckoutList: {\r\n                DealNumber: [],\r\n                CommodityCode: [],\r\n                CommodityName: [],\r\n                DealSum: [],\r\n                SupplyMoney: [],\r\n            },\r\n            checked: true,\r\n            freight: 0,\r\n            checkoutList: [],\r\n            univalent: 6546\r\n        }\r\n    },\r\n    watch: {\r\n        // $route: (to,from) {\r\n        //     console.log(to, from);\r\n        // }\r\n        $route: {\r\n            deep: true,\r\n            handler(val, oldval){\r\n                console.log(val, oldval)\r\n            }\r\n        }\r\n    },\r\n    created(){\r\n        this.checkoutList = JSON.parse(sessionStorage.getItem('checkout'))\r\n        console.log(this.checkoutList)\r\n    },\r\n    methods: {\r\n        toInvoice(){\r\n            this.$router.push('./invoice')\r\n        },\r\n        changeType(){\r\n            console.log(this.checked)\r\n        },\r\n        onSubmit(){\r\n            this.checkoutList.forEach(item => {\r\n                this.orderCheckoutList.DealNumber.push(item.listObj[0].DealNumber)\r\n                this.orderCheckoutList.CommodityCode.push(item.listObj[0].CommodityCode)\r\n                this.orderCheckoutList.CommodityName.push(item.listObj[0].CommodityName)\r\n                this.orderCheckoutList.DealSum.push(item.listObj[0].DealSum)\r\n                this.orderCheckoutList.SupplyMoney.push(item.listObj[0].SupplyMoney)\r\n            })\r\n            let payStatus = this.checked ? 0:1\r\n            let postData = '[[\"CommodityCode\",\"CommodityName\",\"Num\",\"SupplyMoney\",\"UserName\",\"UserMobile\",\"UserAddress\",\"ConsigneePostalcode\",\"InvoicesInfo\",\"OrderEquipment\",\"PayStatus\"],[\"'+this.orderCheckoutList.CommodityCode+'\",\"'+this.orderCheckoutList.CommodityName+'\",\"'+this.orderCheckoutList.DealSum+'\",\"'+this.orderCheckoutList.SupplyMoney+'\",\"'+UserName+'\",\"'+UserMobile+'\",\"'+UserAddress+'\",\"'+ConsigneePostalcode+'\",\"'+InvoicesInfo+'\",\"1\",\"'+payStatus+'\"]]'\r\n            console.log(this.orderCheckoutList)\r\n            // Order.UserOrder({\r\n            //     \"SOURCE\": \"TEST\",\r\n            //     \"CREDENTIALS\": \"0\",\r\n            //     \"ADDRESS\": \"192.168.1.195\",\r\n            //     \"TERMINAL\": \"0\",\r\n            //     \"INDEX\": \"20170714\",\r\n            //     \"METHOD\": \"UserOrder\",\r\n            //     \"UserAccount\": \"test001\",\r\n            //     \"DATA\": encodeURI(postData)\r\n            // }).then(res => {\r\n            //     console.log(res)\r\n            // })\r\n            // this.$router.push('../order/success')\r\n        },\r\n        toAddressList(){\r\n            this.$router.push('../address/list')\r\n        }\r\n    }\r\n}\r\n",{"version":3,"sources":["OrderCheckout.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkGA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"OrderCheckout.vue","sourceRoot":"src/views/cart","sourcesContent":["<template>\r\n    <div class=\"app-shell\">\r\n        <the-title title=\"填写订单\"/>\r\n        <div class=\"app-view-wrapper\">\r\n            <div class=\"checkout\">\r\n                <div class=\"page-wrap\">\r\n                    <div class=\"address\">\r\n                        <div class=\"address-piece piece\" @click=\"toAddressList\">\r\n                            <div class=\"item-left\">\r\n                                <div class=\"address-info\">\r\n                                    <span>张三</span>\r\n                                    <span>13800860086</span>\r\n                                    <span class=\"defult-address\">默认</span>\r\n                                </div>\r\n                                <div class=\"address-detail\">\r\n                                    <span>深圳市</span>\r\n                                    <span>福田区</span>\r\n                                    <span>深南大道6029号实际豪庭大厦</span>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"item-right\">\r\n                                <img src=\"../../assets/images/commodity/idetails-ic-Jump-g@3x.png\" alt=\"\">\r\n                            </div>\r\n                        </div>\r\n                        <!-- <div class=\"address-bg\">\r\n                            <img src=\"../../assets/images/cart/order_bg_r@3x.png\" alt=\"\">\r\n                        </div> -->\r\n                    </div>\r\n                    <div class=\"commondity-list piece\">\r\n                        <ul>\r\n                            <li class=\"items\" v-for=\"(item, index) in checkoutList\" :key=\"index\">\r\n                                <div class=\"item-left\">\r\n                                    <img :src=\"item.listObj[0].FilePath\" alt=\"\">\r\n                                </div>\r\n                                <div class=\"item-right\">\r\n                                    <p>{{item.listObj[0].CommodityName}}</p>\r\n                                    <p class=\"option\">{{item.listObj[0].CommodityCode}}</p>\r\n                                    <p class=\"univalent\">￥ {{item.listObj[0].SupplyMoney}}</p>\r\n                                </div>\r\n                            </li>\r\n                        </ul>\r\n                    </div>\r\n                    <!-- <div class=\"pay-tips\">\r\n                        <p>订单仅支持货到付款，您尚未开卡，</p>\r\n                        <p>建议您提前在新支付APP中开卡以便确认收货时付款！</p>\r\n                    </div> -->\r\n                    <div class=\"total-invoice\">\r\n                        <div class=\"commondity-price piece\">\r\n                            <div class=\"layout-left\">\r\n                                <span>商品合计</span>\r\n                            </div>\r\n                            <div class=\"layout-right\">\r\n                                <span>￥{{$route.query.totalPrice}}</span>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"freight piece\">\r\n                            <div class=\"layout-left\">\r\n                                <span>运费</span>\r\n                            </div>\r\n                            <div class=\"layout-right\">\r\n                                <span class=\"freight-tip\">满88元包邮</span>\r\n                                <span>￥{{freight}}</span>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"invoice piece\" @click=\"toInvoice\">\r\n                            <div class=\"layout-left\">\r\n                                <span>发票信息</span>\r\n                            </div>\r\n                            <div class=\"layout-right\">\r\n                                <span>不开发票</span>\r\n                                <img src=\"../../assets/images/commodity/idetails-ic-Jump-g@3x.png\" alt=\"\">\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"pay-type piece\">\r\n                        <div class=\"layout-left\">\r\n                            <span>支付方式</span>\r\n                        </div>\r\n                        <div class=\"layout-right\">\r\n                            <span>货到付款</span>\r\n                            <van-checkbox class=\"checkbox\" @click=\"changeType\" v-model=\"checked\" checked-color=\"#ff3948\"></van-checkbox>\r\n                            <!-- <img src=\"../../assets/images/cart/ic_check_air@3x.png\" alt=\"\" /> -->\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"tips\">\r\n                        <span>* 需使用新支付APP支持，建议您提前下载</span>\r\n                    </div>\r\n                </div>\r\n                <div class=\"app-view-bottom\">\r\n                    <span class=\"bottom-left\">应付金额 :￥ {{$route.query.totalPrice}}</span>\r\n                    <button class=\"sub\" @click=\"onSubmit\">提交</button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport TheTitle from 'components/TheTitle.vue'\r\nimport Order from '../../api/order'\r\nimport { Checkbox } from 'vant'\r\n\r\nexport default {\r\n    components: {\r\n        TheTitle,\r\n        [Checkbox.name]: Checkbox\r\n    },\r\n    data(){\r\n        return{\r\n            orderCheckoutList: {\r\n                DealNumber: [],\r\n                CommodityCode: [],\r\n                CommodityName: [],\r\n                DealSum: [],\r\n                SupplyMoney: [],\r\n            },\r\n            checked: true,\r\n            freight: 0,\r\n            checkoutList: [],\r\n            univalent: 6546\r\n        }\r\n    },\r\n    watch: {\r\n        // $route: (to,from) {\r\n        //     console.log(to, from);\r\n        // }\r\n        $route: {\r\n            deep: true,\r\n            handler(val, oldval){\r\n                console.log(val, oldval)\r\n            }\r\n        }\r\n    },\r\n    created(){\r\n        this.checkoutList = JSON.parse(sessionStorage.getItem('checkout'))\r\n        console.log(this.checkoutList)\r\n    },\r\n    methods: {\r\n        toInvoice(){\r\n            this.$router.push('./invoice')\r\n        },\r\n        changeType(){\r\n            console.log(this.checked)\r\n        },\r\n        onSubmit(){\r\n            this.checkoutList.forEach(item => {\r\n                this.orderCheckoutList.DealNumber.push(item.listObj[0].DealNumber)\r\n                this.orderCheckoutList.CommodityCode.push(item.listObj[0].CommodityCode)\r\n                this.orderCheckoutList.CommodityName.push(item.listObj[0].CommodityName)\r\n                this.orderCheckoutList.DealSum.push(item.listObj[0].DealSum)\r\n                this.orderCheckoutList.SupplyMoney.push(item.listObj[0].SupplyMoney)\r\n            })\r\n            let payStatus = this.checked ? 0:1\r\n            let postData = '[[\"CommodityCode\",\"CommodityName\",\"Num\",\"SupplyMoney\",\"UserName\",\"UserMobile\",\"UserAddress\",\"ConsigneePostalcode\",\"InvoicesInfo\",\"OrderEquipment\",\"PayStatus\"],[\"'+this.orderCheckoutList.CommodityCode+'\",\"'+this.orderCheckoutList.CommodityName+'\",\"'+this.orderCheckoutList.DealSum+'\",\"'+this.orderCheckoutList.SupplyMoney+'\",\"'+UserName+'\",\"'+UserMobile+'\",\"'+UserAddress+'\",\"'+ConsigneePostalcode+'\",\"'+InvoicesInfo+'\",\"1\",\"'+payStatus+'\"]]'\r\n            console.log(this.orderCheckoutList)\r\n            // Order.UserOrder({\r\n            //     \"SOURCE\": \"TEST\",\r\n            //     \"CREDENTIALS\": \"0\",\r\n            //     \"ADDRESS\": \"192.168.1.195\",\r\n            //     \"TERMINAL\": \"0\",\r\n            //     \"INDEX\": \"20170714\",\r\n            //     \"METHOD\": \"UserOrder\",\r\n            //     \"UserAccount\": \"test001\",\r\n            //     \"DATA\": encodeURI(postData)\r\n            // }).then(res => {\r\n            //     console.log(res)\r\n            // })\r\n            // this.$router.push('../order/success')\r\n        },\r\n        toAddressList(){\r\n            this.$router.push('../address/list')\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"stylus\" scoped>\r\n    .app-shell{\r\n        width 100%\r\n        height 100vh\r\n        background #eee\r\n        .page-wrap{\r\n            padding-bottom 64px\r\n            padding-top 50px\r\n        }\r\n        .piece{\r\n            display flex\r\n            justify-content space-between\r\n            font-size 14px\r\n            color #000\r\n        }\r\n        .address-piece, .total-invoice, .pay-type, .commondity-list>ul{\r\n            margin 10px 10px 0 10px\r\n            padding 16px 10px\r\n            background #fff\r\n            border-radius 4px\r\n        }\r\n        .commondity-list>ul{\r\n            width 100%\r\n        }\r\n        .address-bg img{\r\n            padding 0 10px\r\n        }\r\n        .address-piece{\r\n            padding 20px 10px\r\n            align-items center\r\n            span{\r\n                padding-right 10px\r\n            }\r\n            .item-left{\r\n                text-align left \r\n                .address-info{\r\n                    padding-bottom 12px\r\n                    .defult-address{\r\n                        display inline-block\r\n                        padding 2px 6px\r\n                        background rgba(255, 57, 72, .1)\r\n                        border 1px solid #FF3947\r\n                        border-radius 10px\r\n                        font-size 13px\r\n                        color #FF3947\r\n                    }\r\n                }\r\n            }\r\n            .item-right img{\r\n                width 8px\r\n            }\r\n        }\r\n        .commondity-list{\r\n            .items{\r\n                display flex\r\n                padding-bottom 14px\r\n                .item-left{\r\n                    border-radius 5px\r\n                    img{\r\n                        width 120px\r\n                        height 120px\r\n                        border-radius 6px\r\n                    }\r\n                }\r\n                .item-right{\r\n                    padding-left 14px\r\n                    text-align left \r\n                    font-size 14px\r\n                    position relative\r\n                    p{\r\n                        line-height 20px\r\n                    }\r\n                    .option{\r\n                        margin-top 10px\r\n                        color #939393\r\n                    }\r\n                    .univalent{\r\n                        position absolute\r\n                        bottom 0\r\n                        left 14px\r\n                        font-size 16px\r\n                        color #FF3947\r\n                    }\r\n                }\r\n            }\r\n            .items:last-child{\r\n                padding-bottom 0\r\n            }\r\n        }\r\n        .freight{\r\n            padding 14px 0\r\n            .freight-tip{\r\n                display inline-block\r\n                height 15px\r\n                line-height 16px\r\n                padding 0 8px\r\n                margin-right 10px\r\n                border 1px solid #FF3947\r\n                border-radius 10px\r\n                font-size 12px\r\n                color #FF3947\r\n            }\r\n        }\r\n        .invoice{\r\n            .layout-right{\r\n                display flex\r\n                align-items center\r\n            }\r\n            img{\r\n                width 8px\r\n                margin-left 10px\r\n                vertical-align middle\r\n            }\r\n        }\r\n        .pay-type{\r\n            .layout-right{\r\n                display flex\r\n                align-items center\r\n            }\r\n            .checkbox{\r\n                margin-left 10px\r\n            }\r\n            img {\r\n                width 16px\r\n                margin-left 10px\r\n            }\r\n        }\r\n    }\r\n    .tips{\r\n        text-align right \r\n        margin-right 10px\r\n        margin-top 10px\r\n        font-size 12px\r\n        color #939393\r\n        letter-spacing 1px\r\n    }\r\n    .app-view-bottom{\r\n        position fixed\r\n        bottom 0\r\n        left 0\r\n        right 0\r\n        display flex\r\n        justify-content space-between\r\n        align-items center\r\n        height 50px\r\n        padding 0 10px\r\n        background #fff\r\n        border-top 1px solid #ddd\r\n        font-size 16px\r\n        color #FF3947\r\n        .sub{\r\n            height 36px\r\n            padding 0 40px\r\n            border none \r\n            background #FF3947\r\n            border-radius 20px\r\n            color #fff\r\n        }\r\n    }\r\n</style>\r\n\r\n"]}]}